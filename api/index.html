<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · OnlineStatsChains.jl</title><meta name="title" content="API Reference · OnlineStatsChains.jl"/><meta property="og:title" content="API Reference · OnlineStatsChains.jl"/><meta property="twitter:title" content="API Reference · OnlineStatsChains.jl"/><meta name="description" content="Documentation for OnlineStatsChains.jl."/><meta property="og:description" content="Documentation for OnlineStatsChains.jl."/><meta property="twitter:description" content="Documentation for OnlineStatsChains.jl."/><meta property="og:url" content="https://femtotrader.github.io/OnlineStatsChains.jl/api/"/><meta property="twitter:url" content="https://femtotrader.github.io/OnlineStatsChains.jl/api/"/><link rel="canonical" href="https://femtotrader.github.io/OnlineStatsChains.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">OnlineStatsChains.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../ai-generated/">⚠️ AI-Generated Notice</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../quickstart/">Quick Start</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/basic/">Basic Usage</a></li><li><a class="tocitem" href="../tutorials/advanced/">Advanced Patterns</a></li><li><a class="tocitem" href="../tutorials/performance/">Performance</a></li></ul></li><li><a class="tocitem" href="../rocket_integration/">Reactive Programming</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Core-Types"><span>Core Types</span></a></li><li><a class="tocitem" href="#DAG-Construction"><span>DAG Construction</span></a></li><li><a class="tocitem" href="#Data-Input"><span>Data Input</span></a></li><li><a class="tocitem" href="#Value-Retrieval"><span>Value Retrieval</span></a></li><li><a class="tocitem" href="#Evaluation-Strategies"><span>Evaluation Strategies</span></a></li><li><a class="tocitem" href="#Edge-Transformations"><span>Edge Transformations</span></a></li><li><a class="tocitem" href="#Graph-Introspection"><span>Graph Introspection</span></a></li><li><a class="tocitem" href="#Filter-Introspection"><span>Filter Introspection</span></a></li><li><a class="tocitem" href="#Transform-Introspection"><span>Transform Introspection</span></a></li><li><a class="tocitem" href="#Internal-Functions"><span>Internal Functions</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/femtotrader/OnlineStatsChains.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/femtotrader/OnlineStatsChains.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><p>Complete API documentation for OnlineStatsChains.jl.</p><h2 id="Core-Types"><a class="docs-heading-anchor" href="#Core-Types">Core Types</a><a id="Core-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Core-Types" title="Permalink"></a></h2><h3 id="StatDAG"><a class="docs-heading-anchor" href="#StatDAG">StatDAG</a><a id="StatDAG-1"></a><a class="docs-heading-anchor-permalink" href="#StatDAG" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="OnlineStatsChains.StatDAG"><a class="docstring-binding" href="#OnlineStatsChains.StatDAG"><code>OnlineStatsChains.StatDAG</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">StatDAG(; strategy=:eager)</code></pre><p>Create a new Directed Acyclic Graph (DAG) for chaining OnlineStat computations.</p><p><strong>Fields</strong></p><ul><li><code>nodes</code>: Dictionary mapping node IDs to Node instances</li><li><code>edges</code>: Dictionary mapping (from, to) tuples to Edge instances</li><li><code>topological_order</code>: Cached topological ordering of nodes</li><li><code>order_valid</code>: Flag indicating if topological order is current</li><li><code>strategy</code>: Evaluation strategy (<code>:eager</code>, <code>:lazy</code>, or <code>:partial</code>)</li><li><code>dirty_nodes</code>: Set of nodes that need recomputation (lazy mode)</li></ul><p><strong>Evaluation Strategies</strong></p><ul><li><code>:eager</code> (default): Propagation happens immediately when fit!() is called</li><li><code>:lazy</code>: Updates are recorded but not propagated until value() is requested</li><li><code>:partial</code>: Only affected subgraph is recomputed</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Eager evaluation (default)
dag = StatDAG()

# Lazy evaluation
dag = StatDAG(strategy=:lazy)

# Partial evaluation
dag = StatDAG(strategy=:partial)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><h3 id="CycleError"><a class="docs-heading-anchor" href="#CycleError">CycleError</a><a id="CycleError-1"></a><a class="docs-heading-anchor-permalink" href="#CycleError" title="Permalink"></a></h3><p>Custom exception type raised when attempting to create a cycle in the DAG.</p><p><strong>Type</strong>: <code>CycleError &lt;: Exception</code></p><p><strong>Fields</strong>:</p><ul><li><code>msg::String</code> - Error message describing the cycle</li></ul><h2 id="DAG-Construction"><a class="docs-heading-anchor" href="#DAG-Construction">DAG Construction</a><a id="DAG-Construction-1"></a><a class="docs-heading-anchor-permalink" href="#DAG-Construction" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="OnlineStatsChains.add_node!"><a class="docstring-binding" href="#OnlineStatsChains.add_node!"><code>OnlineStatsChains.add_node!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">add_node!(dag::StatDAG, id::Symbol, stat::OnlineStat)</code></pre><p>Add a node to the DAG with the given identifier and OnlineStat instance.</p><p>Throws <code>ArgumentError</code> if a node with the same <code>id</code> already exists.</p><p><strong>Arguments</strong></p><ul><li><code>dag</code>: The StatDAG instance</li><li><code>id</code>: Unique symbol identifier for the node</li><li><code>stat</code>: An OnlineStat instance to associate with this node</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">dag = StatDAG()
add_node!(dag, :mean, Mean())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.connect!"><a class="docstring-binding" href="#OnlineStatsChains.connect!"><code>OnlineStatsChains.connect!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">connect!(dag::StatDAG, from_id::Symbol, to_id::Symbol; filter::Union{Function,Nothing}=nothing, transform::Union{Function,Nothing}=nothing)</code></pre><p>Create a directed edge from <code>from_id</code> node to <code>to_id</code> node.</p><p>Throws <code>ArgumentError</code> if either node doesn&#39;t exist. Throws <code>CycleError</code> if the connection would create a cycle.</p><p><strong>Arguments</strong></p><ul><li><code>dag</code>: The StatDAG instance</li><li><code>from_id</code>: Source node identifier</li><li><code>to_id</code>: Destination node identifier</li><li><code>filter</code>: Optional filter function to conditionally propagate values</li><li><code>transform</code>: Optional transform function to modify values before propagation</li></ul><p>When both <code>filter</code> and <code>transform</code> are provided, the filter is evaluated first. The transform is only applied if the filter returns true.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">connect!(dag, :source, :sink)
connect!(dag, :ema1, :ema2, filter = !ismissing)
connect!(dag, :price, :alert, filter = x -&gt; x &gt; 100)
connect!(dag, :raw, :scaled, transform = x -&gt; x * 100)
connect!(dag, :temp_c, :temp_f, filter = !ismissing, transform = c -&gt; c * 9/5 + 32)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section><section><div><pre><code class="language-julia hljs">connect!(dag::StatDAG, from_ids::Vector{Symbol}, to_id::Symbol; filter::Union{Function,Nothing}=nothing, transform::Union{Function,Nothing}=nothing)</code></pre><p>Connect multiple source nodes to a single destination node (fan-in).</p><p><strong>Arguments</strong></p><ul><li><code>dag</code>: The StatDAG instance</li><li><code>from_ids</code>: Vector of source node identifiers</li><li><code>to_id</code>: Destination node identifier</li><li><code>filter</code>: Optional filter function applied to combined parent values</li><li><code>transform</code>: Optional transform function applied to combined parent values</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">connect!(dag, [:input1, :input2], :combined)
connect!(dag, [:high, :low], :spread, filter = vals -&gt; all(!ismissing, vals))
connect!(dag, [:price, :qty], :total, transform = vals -&gt; vals[1] * vals[2])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><h2 id="Data-Input"><a class="docs-heading-anchor" href="#Data-Input">Data Input</a><a id="Data-Input-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Input" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="StatsAPI.fit!"><a class="docstring-binding" href="#StatsAPI.fit!"><code>StatsAPI.fit!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">fit!(dag::StatDAG, data::Pair{Symbol, &lt;:Any})</code></pre><p>Update a source node with data and propagate through the DAG.</p><p><strong>Arguments</strong></p><ul><li><code>dag</code>: The StatDAG instance</li><li><code>data</code>: A Pair of <code>node_id =&gt; value</code> or <code>node_id =&gt; iterable</code></li></ul><p>If value is iterable, each element is processed sequentially with propagation.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Single value
fit!(dag, :source =&gt; 42)

# Batch mode
fit!(dag, :source =&gt; [1, 2, 3, 4, 5])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section><section><div><pre><code class="language-julia hljs">fit!(dag::StatDAG, data::Dict{Symbol, &lt;:Any})</code></pre><p>Update multiple source nodes simultaneously.</p><p>If values in the Dict are iterables of different lengths, processes up to the shortest length and issues a warning.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">fit!(dag, Dict(:input1 =&gt; [1, 2, 3], :input2 =&gt; [4, 5, 6]))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><h2 id="Value-Retrieval"><a class="docs-heading-anchor" href="#Value-Retrieval">Value Retrieval</a><a id="Value-Retrieval-1"></a><a class="docs-heading-anchor-permalink" href="#Value-Retrieval" title="Permalink"></a></h2><h3 id="value"><a class="docs-heading-anchor" href="#value">value</a><a id="value-1"></a><a class="docs-heading-anchor-permalink" href="#value" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="OnlineStatsBase.value-Tuple{StatDAG, Symbol}"><a class="docstring-binding" href="#OnlineStatsBase.value-Tuple{StatDAG, Symbol}"><code>OnlineStatsBase.value</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">value(dag::StatDAG, id::Symbol)</code></pre><p>Get the current value of a node&#39;s OnlineStat.</p><p>In lazy mode, this triggers recomputation of dirty nodes if necessary.</p><p>Throws <code>KeyError</code> if the node doesn&#39;t exist.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">val = value(dag, :mean)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><h3 id="values"><a class="docs-heading-anchor" href="#values">values</a><a id="values-1"></a><a class="docs-heading-anchor-permalink" href="#values" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="OnlineStatsChains.values"><a class="docstring-binding" href="#OnlineStatsChains.values"><code>OnlineStatsChains.values</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">values(dag::StatDAG)</code></pre><p>Get a dictionary of all node values.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">all_vals = values(dag)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><h2 id="Evaluation-Strategies"><a class="docs-heading-anchor" href="#Evaluation-Strategies">Evaluation Strategies</a><a id="Evaluation-Strategies-1"></a><a class="docs-heading-anchor-permalink" href="#Evaluation-Strategies" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="OnlineStatsChains.set_strategy!"><a class="docstring-binding" href="#OnlineStatsChains.set_strategy!"><code>OnlineStatsChains.set_strategy!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">set_strategy!(dag::StatDAG, strategy::Symbol)</code></pre><p>Change the evaluation strategy of an existing DAG.</p><p><strong>Arguments</strong></p><ul><li><code>dag</code>: The StatDAG instance</li><li><code>strategy</code>: New strategy (<code>:eager</code>, <code>:lazy</code>, or <code>:partial</code>)</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">dag = StatDAG()  # Default eager
set_strategy!(dag, :lazy)  # Switch to lazy</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.invalidate!"><a class="docstring-binding" href="#OnlineStatsChains.invalidate!"><code>OnlineStatsChains.invalidate!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">invalidate!(dag::StatDAG, id::Symbol)</code></pre><p>Mark a node and all its descendants as needing recomputation (lazy mode).</p><p><strong>Arguments</strong></p><ul><li><code>dag</code>: The StatDAG instance</li><li><code>id</code>: Node identifier to invalidate</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">dag = StatDAG(strategy=:lazy)
add_node!(dag, :source, Mean())
fit!(dag, :source =&gt; 1.0)
invalidate!(dag, :source)  # Mark for recomputation</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.recompute!"><a class="docstring-binding" href="#OnlineStatsChains.recompute!"><code>OnlineStatsChains.recompute!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">recompute!(dag::StatDAG)</code></pre><p>Force recomputation of all dirty nodes (lazy mode).</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">dag = StatDAG(strategy=:lazy)
# ... add nodes and fit data ...
recompute!(dag)  # Recompute all dirty nodes</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><h2 id="Edge-Transformations"><a class="docs-heading-anchor" href="#Edge-Transformations">Edge Transformations</a><a id="Edge-Transformations-1"></a><a class="docs-heading-anchor-permalink" href="#Edge-Transformations" title="Permalink"></a></h2><h3 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h3><p>Edge transformations allow you to apply functions to data as it flows through the DAG. This enables data preprocessing, unit conversions, feature extraction, and other transformations without modifying the source nodes.</p><p><strong>Key Features</strong>:</p><ul><li>Transform data on-the-fly as it propagates</li><li>Combine with filters for conditional transformations</li><li>Supports both single-input and multi-input transformations</li><li>Backward compatible: edges without transforms use computed values</li></ul><h3 id="transform-parameter"><a class="docs-heading-anchor" href="#transform-parameter">transform parameter</a><a id="transform-parameter-1"></a><a class="docs-heading-anchor-permalink" href="#transform-parameter" title="Permalink"></a></h3><p>The <code>transform</code> keyword argument in <code>connect!()</code> accepts a function that will be applied to data propagating through the edge.</p><p><strong>Signature</strong>: <code>connect!(dag, source, target; transform=nothing, filter=nothing)</code></p><p><strong>Parameters</strong>:</p><ul><li><code>transform::Union{Function, Nothing}</code> - Function to apply to propagating data</li><li><code>filter::Union{Function, Nothing}</code> - Optional filter to apply before transform</li></ul><p><strong>Important</strong>: When a <code>transform</code> or <code>filter</code> is present on an edge, that edge propagates <strong>raw data values</strong> instead of computed statistics. This enables meaningful transformations of the original data.</p><h3 id="Basic-Example"><a class="docs-heading-anchor" href="#Basic-Example">Basic Example</a><a id="Basic-Example-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Example" title="Permalink"></a></h3><pre><code class="language-julia hljs">using OnlineStatsChains, OnlineStats

# Temperature sensor in Celsius, convert to Fahrenheit
dag = StatDAG()
add_node!(dag, :celsius, Mean())
add_node!(dag, :fahrenheit, Mean())

# Convert celsius to fahrenheit
connect!(dag, :celsius, :fahrenheit, transform = c -&gt; c * 9/5 + 32)

# Input temperature readings in Celsius
fit!(dag, :celsius =&gt; [0.0, 10.0, 20.0, 30.0])

value(dag, :celsius)      # 15.0 (mean in Celsius)
value(dag, :fahrenheit)   # 59.0 (mean in Fahrenheit)</code></pre><h3 id="Data-Extraction-Example"><a class="docs-heading-anchor" href="#Data-Extraction-Example">Data Extraction Example</a><a id="Data-Extraction-Example-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Extraction-Example" title="Permalink"></a></h3><p>Extract specific fields from structured data:</p><pre><code class="language-julia hljs">dag = StatDAG()
add_node!(dag, :measurements, Mean())
add_node!(dag, :prices, Mean())

# Extract price field from measurement objects
connect!(dag, :measurements, :prices, transform = m -&gt; m.price)

# Simulate measurements with price and quantity
measurements = [(price=10.0, qty=2), (price=15.0, qty=3), (price=12.0, qty=1)]
fit!(dag, :measurements =&gt; measurements)</code></pre><h3 id="Combining-Filter-and-Transform"><a class="docs-heading-anchor" href="#Combining-Filter-and-Transform">Combining Filter and Transform</a><a id="Combining-Filter-and-Transform-1"></a><a class="docs-heading-anchor-permalink" href="#Combining-Filter-and-Transform" title="Permalink"></a></h3><p>Filters and transforms work together: filter is applied first, then transform.</p><pre><code class="language-julia hljs">dag = StatDAG()
add_node!(dag, :temperature, Mean())
add_node!(dag, :fahrenheit_high, Mean())

# Only propagate temperatures above 20°C, convert to Fahrenheit
connect!(dag, :temperature, :fahrenheit_high,
         filter = t -&gt; t &gt; 20,
         transform = t -&gt; t * 9/5 + 32)

fit!(dag, :temperature =&gt; [15.0, 25.0, 18.0, 30.0])
# fahrenheit_high receives only [77.0, 86.0] (from 25°C and 30°C)</code></pre><h3 id="Multi-Input-Transformations"><a class="docs-heading-anchor" href="#Multi-Input-Transformations">Multi-Input Transformations</a><a id="Multi-Input-Transformations-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-Input-Transformations" title="Permalink"></a></h3><p>Transform functions can process data from multiple parents:</p><pre><code class="language-julia hljs">dag = StatDAG()
add_node!(dag, :price, Mean())
add_node!(dag, :quantity, Mean())
add_node!(dag, :revenue, Mean())

# Connect multiple sources with transformation
connect!(dag, [:price, :quantity], :revenue,
         transform = inputs -&gt; inputs[1] * inputs[2])

fit!(dag, Dict(:price =&gt; 10.0, :quantity =&gt; 5.0))
value(dag, :revenue)  # 50.0</code></pre><h3 id="Introspection-Functions"><a class="docs-heading-anchor" href="#Introspection-Functions">Introspection Functions</a><a id="Introspection-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Introspection-Functions" title="Permalink"></a></h3><p>Query edge transformations:</p><pre><code class="language-julia hljs"># Check if an edge has a transform
has_transform(dag::StatDAG, source::Symbol, target::Symbol) -&gt; Bool

# Get the transform function (or nothing)
get_transform(dag::StatDAG, source::Symbol, target::Symbol) -&gt; Union{Function, Nothing}</code></pre><p><strong>Example</strong>:</p><pre><code class="language-julia hljs">dag = StatDAG()
add_node!(dag, :a, Mean())
add_node!(dag, :b, Mean())
connect!(dag, :a, :b, transform = x -&gt; x * 2)

has_transform(dag, :a, :b)  # true
get_transform(dag, :a, :b)  # returns the transform function</code></pre><h3 id="Execution-Order"><a class="docs-heading-anchor" href="#Execution-Order">Execution Order</a><a id="Execution-Order-1"></a><a class="docs-heading-anchor-permalink" href="#Execution-Order" title="Permalink"></a></h3><p>When both filter and transform are present on an edge:</p><ol><li><strong>Filter</strong> is evaluated first with the raw data value</li><li>If filter returns <code>true</code>, <strong>transform</strong> is applied</li><li>Transformed value is fitted to the target node</li></ol><h3 id="Hybrid-Propagation-Model"><a class="docs-heading-anchor" href="#Hybrid-Propagation-Model">Hybrid Propagation Model</a><a id="Hybrid-Propagation-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Hybrid-Propagation-Model" title="Permalink"></a></h3><p>OnlineStatsChains uses a hybrid propagation model for backward compatibility:</p><ul><li><strong>Edges WITHOUT filter/transform</strong>: Propagate computed values (statistics like means, variances)</li><li><strong>Edges WITH filter OR transform</strong>: Propagate raw data values (original input data)</li></ul><p>This ensures existing code continues to work while enabling powerful transformations.</p><h2 id="Graph-Introspection"><a class="docs-heading-anchor" href="#Graph-Introspection">Graph Introspection</a><a id="Graph-Introspection-1"></a><a class="docs-heading-anchor-permalink" href="#Graph-Introspection" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="OnlineStatsChains.get_nodes"><a class="docstring-binding" href="#OnlineStatsChains.get_nodes"><code>OnlineStatsChains.get_nodes</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_nodes(dag::StatDAG)</code></pre><p>Get a list of all node IDs in the DAG.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.get_parents"><a class="docstring-binding" href="#OnlineStatsChains.get_parents"><code>OnlineStatsChains.get_parents</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_parents(dag::StatDAG, id::Symbol)</code></pre><p>Get the list of parent node IDs for a given node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.get_children"><a class="docstring-binding" href="#OnlineStatsChains.get_children"><code>OnlineStatsChains.get_children</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_children(dag::StatDAG, id::Symbol)</code></pre><p>Get the list of child node IDs for a given node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.get_topological_order"><a class="docstring-binding" href="#OnlineStatsChains.get_topological_order"><code>OnlineStatsChains.get_topological_order</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_topological_order(dag::StatDAG)</code></pre><p>Get the topological ordering of nodes in the DAG.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.validate"><a class="docstring-binding" href="#OnlineStatsChains.validate"><code>OnlineStatsChains.validate</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">validate(dag::StatDAG)</code></pre><p>Validate the DAG structure for consistency. Returns true if valid, throws an error otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><h2 id="Filter-Introspection"><a class="docs-heading-anchor" href="#Filter-Introspection">Filter Introspection</a><a id="Filter-Introspection-1"></a><a class="docs-heading-anchor-permalink" href="#Filter-Introspection" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="OnlineStatsChains.has_filter"><a class="docstring-binding" href="#OnlineStatsChains.has_filter"><code>OnlineStatsChains.has_filter</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">has_filter(dag::StatDAG, from_id::Symbol, to_id::Symbol)</code></pre><p>Check if an edge has a filter function.</p><p><strong>Arguments</strong></p><ul><li><code>dag</code>: The StatDAG instance</li><li><code>from_id</code>: Source node identifier</li><li><code>to_id</code>: Destination node identifier</li></ul><p><strong>Returns</strong></p><ul><li><code>Bool</code>: true if the edge has a filter, false otherwise</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">if has_filter(dag, :ema1, :ema2)
    println(&quot;Edge has a filter&quot;)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.get_filter"><a class="docstring-binding" href="#OnlineStatsChains.get_filter"><code>OnlineStatsChains.get_filter</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_filter(dag::StatDAG, from_id::Symbol, to_id::Symbol)</code></pre><p>Get the filter function for an edge, or <code>nothing</code> if no filter exists.</p><p><strong>Arguments</strong></p><ul><li><code>dag</code>: The StatDAG instance</li><li><code>from_id</code>: Source node identifier</li><li><code>to_id</code>: Destination node identifier</li></ul><p><strong>Returns</strong></p><ul><li><code>Union{Function, Nothing}</code>: The filter function or nothing</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">filter_fn = get_filter(dag, :ema1, :ema2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><h2 id="Transform-Introspection"><a class="docs-heading-anchor" href="#Transform-Introspection">Transform Introspection</a><a id="Transform-Introspection-1"></a><a class="docs-heading-anchor-permalink" href="#Transform-Introspection" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="OnlineStatsChains.has_transform"><a class="docstring-binding" href="#OnlineStatsChains.has_transform"><code>OnlineStatsChains.has_transform</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">has_transform(dag::StatDAG, from_id::Symbol, to_id::Symbol)</code></pre><p>Check if an edge has a transform function.</p><p><strong>Arguments</strong></p><ul><li><code>dag</code>: The StatDAG instance</li><li><code>from_id</code>: Source node identifier</li><li><code>to_id</code>: Destination node identifier</li></ul><p><strong>Returns</strong></p><ul><li><code>Bool</code>: true if the edge has a transform, false otherwise</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">if has_transform(dag, :raw, :scaled)
    println(&quot;Edge has a transform&quot;)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.get_transform"><a class="docstring-binding" href="#OnlineStatsChains.get_transform"><code>OnlineStatsChains.get_transform</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_transform(dag::StatDAG, from_id::Symbol, to_id::Symbol)</code></pre><p>Get the transform function for an edge, or <code>nothing</code> if no transform exists.</p><p><strong>Arguments</strong></p><ul><li><code>dag</code>: The StatDAG instance</li><li><code>from_id</code>: Source node identifier</li><li><code>to_id</code>: Destination node identifier</li></ul><p><strong>Returns</strong></p><ul><li><code>Union{Function, Nothing}</code>: The transform function or nothing</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">transform_fn = get_transform(dag, :raw, :scaled)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><h2 id="Internal-Functions"><a class="docs-heading-anchor" href="#Internal-Functions">Internal Functions</a><a id="Internal-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-Functions" title="Permalink"></a></h2><p>These functions are primarily used internally but are documented for advanced usage and package development.</p><article><details class="docstring" open="true"><summary id="OnlineStatsChains.propagate_value!"><a class="docstring-binding" href="#OnlineStatsChains.propagate_value!"><code>OnlineStatsChains.propagate_value!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">propagate_value!(dag::StatDAG, node_id::Symbol, raw_val)</code></pre><p>Propagate from a node to its immediate children.</p><p><strong>Hybrid propagation model (backward compatible):</strong></p><ul><li>IF edge has NO transform: propagates the computed value (cached_value) - ORIGINAL BEHAVIOR</li><li>IF edge has transform: propagates the raw data through the transform - NEW BEHAVIOR</li></ul><p>This preserves backward compatibility while enabling transformers.</p><p><strong>Arguments</strong></p><ul><li><code>dag</code>: The StatDAG instance</li><li><code>node_id</code>: The source node ID</li><li><code>raw_val</code>: The RAW input value that was just fit!() into the source node</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.has_cycle"><a class="docstring-binding" href="#OnlineStatsChains.has_cycle"><code>OnlineStatsChains.has_cycle</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">has_cycle(dag::StatDAG)</code></pre><p>Check if the DAG contains any cycles using depth-first search. Returns true if a cycle is detected, false otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.compute_topological_order!"><a class="docstring-binding" href="#OnlineStatsChains.compute_topological_order!"><code>OnlineStatsChains.compute_topological_order!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">compute_topological_order!(dag::StatDAG)</code></pre><p>Compute and cache the topological ordering of nodes in the DAG. Uses Kahn&#39;s algorithm (O(V + E) complexity).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><article><details class="docstring" open="true"><summary id="OnlineStatsChains.is_ancestor"><a class="docstring-binding" href="#OnlineStatsChains.is_ancestor"><code>OnlineStatsChains.is_ancestor</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">is_ancestor(dag::StatDAG, potential_ancestor::Symbol, node_id::Symbol)</code></pre><p>Check if potential<em>ancestor is an ancestor of node</em>id.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/femtotrader/OnlineStatsChains.jl">source</a></section></details></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#OnlineStatsChains.StatDAG"><code>OnlineStatsChains.StatDAG</code></a></li><li><a href="#OnlineStatsBase.value-Tuple{StatDAG, Symbol}"><code>OnlineStatsBase.value</code></a></li><li><a href="#OnlineStatsChains.add_node!"><code>OnlineStatsChains.add_node!</code></a></li><li><a href="#OnlineStatsChains.compute_topological_order!"><code>OnlineStatsChains.compute_topological_order!</code></a></li><li><a href="#OnlineStatsChains.connect!"><code>OnlineStatsChains.connect!</code></a></li><li><a href="#OnlineStatsChains.get_children"><code>OnlineStatsChains.get_children</code></a></li><li><a href="#OnlineStatsChains.get_filter"><code>OnlineStatsChains.get_filter</code></a></li><li><a href="#OnlineStatsChains.get_nodes"><code>OnlineStatsChains.get_nodes</code></a></li><li><a href="#OnlineStatsChains.get_parents"><code>OnlineStatsChains.get_parents</code></a></li><li><a href="#OnlineStatsChains.get_topological_order"><code>OnlineStatsChains.get_topological_order</code></a></li><li><a href="#OnlineStatsChains.get_transform"><code>OnlineStatsChains.get_transform</code></a></li><li><a href="#OnlineStatsChains.has_cycle"><code>OnlineStatsChains.has_cycle</code></a></li><li><a href="#OnlineStatsChains.has_filter"><code>OnlineStatsChains.has_filter</code></a></li><li><a href="#OnlineStatsChains.has_transform"><code>OnlineStatsChains.has_transform</code></a></li><li><a href="#OnlineStatsChains.invalidate!"><code>OnlineStatsChains.invalidate!</code></a></li><li><a href="#OnlineStatsChains.is_ancestor"><code>OnlineStatsChains.is_ancestor</code></a></li><li><a href="#OnlineStatsChains.propagate_value!"><code>OnlineStatsChains.propagate_value!</code></a></li><li><a href="#OnlineStatsChains.recompute!"><code>OnlineStatsChains.recompute!</code></a></li><li><a href="#OnlineStatsChains.set_strategy!"><code>OnlineStatsChains.set_strategy!</code></a></li><li><a href="#OnlineStatsChains.validate"><code>OnlineStatsChains.validate</code></a></li><li><a href="#OnlineStatsChains.values"><code>OnlineStatsChains.values</code></a></li><li><a href="#StatsAPI.fit!"><code>StatsAPI.fit!</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../rocket_integration/">« Reactive Programming</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 6 January 2026 15:11">Tuesday 6 January 2026</span>. Using Julia version 1.12.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
